<form id="emailForm">
    <label for="toEmail">Recipient Email:</label>
    <input type="email" id="toEmail" name="toEmail" placeholder="Enter recipient email" required />
    <button type="submit">Send Email</button>
</form>

<script>
    document.getElementById('emailForm').addEventListener('submit', async (event) => {
        event.preventDefault();

        const toEmail = document.getElementById('toEmail').value;

        if (!toEmail) {
            alert('Please enter a valid email address.');
            return;
        }

        try {
            const response = await fetch('https://prod-29.japaneast.logic.azure.com:443/workflows/f3e3249e034b42b7853d540ae9f87652/triggers/When_a_HTTP_request_is_received/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2FWhen_a_HTTP_request_is_received%2Frun&sv=1.0&sig=hbhEz7g4uXDVyjroFstX02tgbmGRYdYnm1x8YIpRnBU', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ toEmail }),
            });

            if (response.ok) {
                alert('Email sent successfully!');
            } else {
                const errorData = await response.json();
                console.error('Error:', errorData);
                alert('Failed to send email. Please check the console for details.');
            }
        } catch (error) {
            console.error('Request failed:', error);
            alert('An unexpected error occurred.');
        }
    });
</script>